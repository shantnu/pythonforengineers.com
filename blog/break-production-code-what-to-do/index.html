<!DOCTYPE html>
<html lang="en">
<head>

    <title>What to do if you fu*k up and break production code?</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" type="text/css" href="../../assets/built/screen.css" />

    <link rel="canonical" href="index.html">
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    
    <meta property="og:site_name" content="Python for Engineers">
    <meta property="og:type" content="article">
    <meta property="og:title" content="What to do if you fu*k up and break production code?">
    <meta property="og:description" content="Question: So you come into work one day, and find everyone staring at you. Most
people are avoiding your eyes, and you hear the CEO ask “Who’s this Insert your
name guy? Bring him to me when he turns up.”
You sit on your computer, and find that the">
    <meta property="og:url" content="https://new.pythonforengineers.com/blog/break-production-code-what-to-do/">
    <meta property="article:published_time" content="2021-08-20T15:03:47.000Z">
    <meta property="article:modified_time" content="2021-08-20T15:03:47.000Z">
    <meta property="article:tag" content="career">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="What to do if you fu*k up and break production code?">
    <meta name="twitter:description" content="Question: So you come into work one day, and find everyone staring at you. Most
people are avoiding your eyes, and you hear the CEO ask “Who’s this Insert your
name guy? Bring him to me when he turns up.”
You sit on your computer, and find that the">
    <meta name="twitter:url" content="https://new.pythonforengineers.com/blog/break-production-code-what-to-do/">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Shantnu Tiwari">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="career">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Python for Engineers",
        "url": "https://new.pythonforengineers.com/",
        "logo": {
            "@type": "ImageObject",
            "url": "https://new.pythonforengineers.com/favicon.ico"
        }
    },
    "author": {
        "@type": "Person",
        "name": "Shantnu Tiwari",
        "image": {
            "@type": "ImageObject",
            "url": "https://new.pythonforengineers.com/content/images/2021/08/shantnu-foto-small-1.jpg"
        },
        "url": "https://new.pythonforengineers.com/author/shantnu/",
        "sameAs": []
    },
    "headline": "What to do if you fu*k up and break production code?",
    "url": "https://new.pythonforengineers.com/blog/break-production-code-what-to-do/",
    "datePublished": "2021-08-20T15:03:47.000Z",
    "dateModified": "2021-08-20T15:03:47.000Z",
    "keywords": "career",
    "description": "Question: So you come into work one day, and find everyone staring at you. Most\npeople are avoiding your eyes, and you hear the CEO ask “Who’s this Insert your\nname guy? Bring him to me when he turns up.”\nYou sit on your computer, and find that the one line of code you changed broke\nevery single test in the code base. And an email with your name has been sent to\nevery manager in the company. And then you look down and see you forgot to wear\ntrousers to work. What would you do?\n\nBefore I give you",
    "mainEntityOfPage": "https://new.pythonforengineers.com/blog/break-production-code-what-to-do/"
}
    </script>

    <meta name="generator" content="Ghost 5.129">
    <link rel="alternate" type="application/rss+xml" title="Python for Engineers" href="../rss/index.html">
        
    
    <link href="https://new.pythonforengineers.com/webmentions/receive/" rel="webmention">
    <script defer src="../../public/cards.min.js%3Fv=ddf1563274"></script>
    <link rel="stylesheet" type="text/css" href="../../public/cards.min.css%3Fv=ddf1563274.css">
    <script defer src="../../public/member-attribution.min.js%3Fv=ddf1563274"></script><style>:root {--ghost-accent-color: #FF1A75;}</style>
    <link rel="stylesheet" href="/assets/css/prism-okaidia.min.css" integrity="sha512-mIs9kKbaw6JZFfSuo+MovjU+Ntggfoj8RwAmJbVXQ5mkAX5LlgETQEweFPI18humSPHymTb5iikEOKWF7I8ncQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="/assets/css/prism-toolbar.min.css" />

</head>
<body class="post-template tag-career">
<div class="viewport">

    <header id="gh-head" class="gh-head ">
        <nav class="gh-head-inner inner gh-container">

            <div class="gh-head-brand">
                <a class="gh-head-logo" href="../../home/index.html">
                        Python for Engineers
                </a>
                <a class="gh-burger" role="button">
                    <div class="gh-burger-box">
                        <div class="gh-burger-inner"></div>
                    </div>
                </a>
            </div>
            <div class="gh-head-menu">
                <ul class="nav">
    <li class="nav-home"><a href="../../home/index.html">Home</a></li>
    <li class="nav-about-contact"><a href="../../about/index.html">About/Contact</a></li>
    <li class="nav-books"><a href="../../books.html">Books</a></li>
    <li class="nav-blog"><a href="../../author/Shantnu/index.html">Blog</a></li>
    <li class="nav-search"><a href="index.html#/search">Search</a></li>
</ul>

            </div>
            <div class="gh-head-actions">
                <div class="gh-social">
                </div>

                    <a class="gh-head-button" href="index.html#/portal/signup">Subscribe</a>
            </div>
        </nav>
    </header>

    <main>
        



<article class="article post tag-career no-image">

    <header class="article-header gh-canvas">

        <section class="article-tag">
            <a href="../../tag/career/index.html">career</a>
        </section>

        <h1 class="article-title">What to do if you fu*k up and break production code?</h1>


        <div class="article-byline">
            <section class="article-byline-content">
                <ul class="author-list">
                    <li class="author-list-item">
                        <a href="../../author/Shantnu/index.html" class="author-avatar">
                            <img class="author-profile-image" src="../../content/images/size/w100/2021/08/shantnu-foto-small-1.jpg" alt="Shantnu Tiwari" />
                        </a>
                    </li>
                </ul>
                <div class="article-byline-meta">
                    <h4 class="author-name"><a href="../../author/Shantnu/index.html">Shantnu Tiwari</a></h4>
                    <div class="byline-meta-content">
                        <time class="byline-meta-date" datetime="2021-08-20">Aug 20, 2021</time>
                        <span class="byline-reading-time"><span class="bull">&bull;</span> 6 min read</span>
                    </div>
                </div>
            </section>
        </div>

    </header>

    <section class="gh-content gh-canvas">
        <!--kg-card-begin: markdown--><p><strong>Question</strong>: So you come into work one day, and find everyone staring at you. Most people are avoiding your eyes, and you hear the CEO ask “Who’s this <em>Insert your name</em> guy? Bring him to me when he turns up.”<br>
You sit on your computer, and find that the one line of code you changed broke every single test in the code base. And an email with your name has been sent to every manager in the company. And then you look down and see you forgot to wear trousers to work. What would you do?</p>
<p>Before I give you the answer, I will make a few bad jokes and pad the word count. If you want a hint at the answer, it involves growing (or shaving) a moustache and moving to Mexico.</p>
<p>Thanks to <a href="https://stackoverflow.com/users/193906/sanjay-t-sharma?ref=new.pythonforengineers.com">Sanjay Sharma</a> for asking this question.</p>
<h4 id="don%E2%80%99t-ask-me-%E2%80%93-i-write-perfect-code"><strong>Don’t ask me – I write perfect code</strong></h4>
<p>My first question is: Why are you asking me? Do I look like the sort of man who would break code? I write perfect code, being the Picasso of Programming (PoP). Anything that flows from my fingers is a work of art. In fact, the first time I saw a debugger was after ten years of programming.</p>
<p>Anyway.</p>
<p>First, a true story. It involves my evil twin brother, Bhrantu. Bhrantu looks just like me, except he has a mustache and wears a weird Mexican hat.</p>
<p><img src="../../content/images/2021/08/Shan-mooch.jpg" alt="Shan-mooch" loading="lazy"></p>
<p><em>He even looks like an evil twin</em></p>
<p>Unlike me, he breaks code all the time.</p>
<h4 id="when-bhrantu-broke-every-test-in-the-whole-company">When Bhrantu broke every test in the whole company</h4>
<p>So my evil twin brother, Bhrantu, who is totally not me (pinky swear) made one line of change to the code. He ran the precommit and post commit tests, and they all passed. So he was happy and checked the code in.</p>
<p>Next morning, he came in to work humming “<em>Girls just wanna have fun</em>” (as all men do, from time to time). He felt a few people staring at him. When he checked the email, he found out why.</p>
<p>Every single of the fifty overnight tests had failed, and Bhrantu’s name was attached to each. So all the managers and most of the engineers received an email like:</p>
<p><em>Test 0 failed. Last checkin: Bhrantu.</em></p>
<p><em>Test 1 failed. Last checkin: Bhrantu.</em></p>
<p><em>…</em></p>
<p><em>Test 50 failed. Last checkin: Bhrantu.</em></p>
<p>Oops.</p>
<p>Luckily, Bhrantu is a master of escape. He changed his name to Jose, grew a mustache, wore a fake Mexican hat, and escaped the country. He is still being followed by assassins from the test team. No one knows where he is.</p>
<p>And that’s one way to deal with a screw up. The actual thing I, sorry, Bhrantu did was, he walked into the team meeting and said “It was me!”</p>
<!--kg-card-end: markdown--><figure class="kg-card kg-embed-card kg-card-hascaption"><iframe width="200" height="150" src="https://www.youtube.com/embed/a43kowi2ncI?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><figcaption>It was Jim Carrey all along...</figcaption></figure><!--kg-card-begin: markdown--><h4 id="what-to-do-when-your-screw-up-breaks-production-code">What to do when your screw up breaks production code</h4>
<p>In the example above, the problem only affected the overnight test system. Because in a good company, it should be physically impossible for one person to break the production code, even if such a person took an axe and smashed all the servers (because you have backup, right?)</p>
<p><strong>So what do you do?</strong></p>
<p>The first thing is accept responsibility. Calmly explain what happened, and try to fix it. If it is someone else’s fault, let them and your bosses know, but without blaming or being bitchy. So don’t do this:</p>
<p><em>JJ checked in this code before me, and he’s the one who broke it! He should have asked me if he was going to re-architect my design.</em></p>
<p>Do this:</p>
<p><em>JJ checked in some changes before me. Unfortunately, his changes didn’t gel with my architecture. I’m going to discuss with him how we can best move this forward.</em></p>
<p>In the 2nd example, you aren’t moaning or bitching. Instead, you are trying to solve the actual problem.</p>
<h4 id="it%E2%80%99s-the-systems-fault-not-your-fault">It’s the systems fault, not your fault</h4>
<p>I don’t mean this in a hippy way. “Hey man, the police and courts are like, so corrupt man! Spread the love, man!”</p>
<p>Big fuck ups are always caused by bad management decisions, not programmers. Don’t believe me? Here are a few examples:</p>
<p><em>1. You check in a change, and it breaks the production server. Customers complain, and your boss says you have to stay the weekend to fix the problem.</em></p>
<p><strong>But</strong>: Why was your code allowed to go near the production server anyway? It should have run on a test server first. A team of testers should then have tested things like UX which can’t be easily scripted.</p>
<p>Test machines are cheap- just buy a cheap $300 machine and load Ubuntu on it (I don’t know how Windows guys would do it). Add extra RAM and SSD drives if you want speed. Add an automated script that runs the tests on the server everytime you commit anything. Developing automated tests isn’t that hard. There are automated solutions like Jenkins and Travis CI that you can use as the infrastructure.</p>
<p><em>2. You have pre commit tests, but your change still break the overnight system</em></p>
<p>This is what happened to Bhrantu. Basically, the precommit tests didn’t test a flag that the overnight tests did. And the change that broke all tests was one which affected this flag.</p>
<p><strong>So again</strong>, add that flag to your local tests. Again, this is a system problem. Screw ups will happen, just fix them as soon as you find out.</p>
<p><em>3. You have no tests. That’s what the customer is for!</em></p>
<p>Well, good luck. I admire your courage.</p>
<p>See what I mean that it’s always a system problem?</p>
<h4 id="so-what-do-you-do-when-the-fecal-matter-hits-the-revolving-air-circulation-device"><strong>So what do you do when the fecal matter hits the revolving air circulation device?</strong></h4>
<p>You need to have a good talk with your team and boss, and you need to figure out which part of the system broke, and how you can stop it from breaking again. <strong>Fixing the immediate problem is not enough.</strong> Unless you fix the underlying problem, the screw up will happen again and again. It’s like papering over a broken wall. You aren’t fooling anyone.</p>
<p>You need to convince management to buy you proper testing hardware. This is what you can say:</p>
<p><em>“Hey boss. I spent more than four hours fixing this problem. So you not only lost money on the time I worked on it, but you also lost a huge opportunity, because the time I spent fixing this mess would have been better spent adding features to our code.”</em></p>
<p>This last sentence is important. Companies can lose millions if they don’t have one tiny feature the customer absolutely needs. Not only that, if you are developing software on contract, your customer can sue you for non or late delivery. Trust me, I say this from personal experience. There is nothing like a multi-million dollar suit to convince management to get off their asses and fix structural problems in testing. Say this to your boss: <em>“Would you rather fix this problem once our biggest customer leaves, because we saved pennies by not testing?”</em></p>
<p>Just buying hardware isn’t enough. You then need to develop tests for it. And this is where most managers will balk. Writing automated tests takes time. But ask your boss this: “Would you rather spend $50,000 on tests now, or $500,000 on legal fees when we get sued for shipping broken code to customers?”</p>
<p>Put it in an email if the boss isn’t convinced, and CC everyone important. If the company still won’t do anything, well tough. That’s why I said at the start: <strong>This is almost always a management problem.</strong></p>
<p><strong>Trying to cut costs by cutting testing is like trying to lose weight by cutting your arm off.</strong> It works in the short term, kills you in the long term.</p>
<h4 id="automated-testing-for-you">Automated testing for you</h4>
<p>No matter where you work, it should not be physically possible to put code from your machine to the production server. Depending on how big you are, you need to do the following:</p>
<ol>
<li><em>Big Company</em></li>
</ol>
<p>You should have dedicated test machines, and a dedicated test engineers. I plan to cover this in a future blog, but if you can’t afford test engineers, hire finance and MBA students. Before the recession, thousands entered this field hoping to make a good buck, and are now crying. They usually are good with computers, and with some training, can be taught to script basic tests. Like monkeys, only cheaper.</p>
<p><em>2. Medium/small company</em></p>
<p>You may not be able to afford a full time test team (although, think again. What’s the biggest penalty for not shipping on time? If it’s in the six figures, you can afford a tester. Simple business decision even a MBA can understand).</p>
<p>At the very minimum, have proper servers that automatically run tests when anything in checked in. I keep repeating this, but the automated part is important.</p>
<p><strong>You should never be surprised by your test results.</strong> If you are, the system is broken. Of course, tests will fail, but they should be fairly predictable. You should never have a situation where your whole website is down because someone didn’t realize that clicking a button on the web browser kills a Linux driver and cause a Segfault(<em>ask me how I know that. Actually, don’t ask, as I start crying every time I tell that story</em>).</p>
<p><em>3. Very small / Freelancer</em></p>
<p>At the bare minimum, you need to run your own tests on your own PC, if you can’t afford a server.  You may have to pay a small amount, but it’s much cheaper than spending hours of your time debugging. Wouldn’t you rather be playing Doom, or whatever it is kids are playing nowadays?</p>
<p><strong>To summarise:</strong> If your code breaks the production server, this shows a serious design fault and management failure. It is not your fault, nor the fault of any other engineer. This doesn’t mean you are not responsible. As engineers, it’s our job to guide management on these issues. Who do you think understand more about integration testing: A fifty year old head of product development, or a twenty something engineer?</p>
<p>So let management know, and always, always fix the underlying issue.</p>
<!--kg-card-end: markdown--><p><a href="../../career/index.html"><strong>Click here for more Career advice</strong></a></p>
    </section>


</article>



<aside class="read-more-wrap">
    <div class="read-more inner">


                    
<article class="post-card post no-image ">


    <div class="post-card-content">

        <a class="post-card-content-link" href="../awesome-python-library-tenacity/index.html">
            <header class="post-card-header">
                <h2 class="post-card-title">Awesome Python Library: Tenacity</h2>
            </header>
            <section class="post-card-excerpt">
                <p>Link: https://tenacity.readthedocs.io/en/latest/

When writing code or tests in Python, one issue I had was when the code would fail due to random things like network issues or external peripherals not responding in time. Just rerunning the tests would make them pass. The unreliability wasn&#39;</p>
            </section>
        </a>

        <footer class="post-card-meta">
            <ul class="author-list">
                <li class="author-list-item">
                    <a href="../../author/Shantnu/index.html" class="static-avatar">
                        <img class="author-profile-image" src="../../content/images/size/w100/2021/08/shantnu-foto-small-1.jpg" alt="Shantnu Tiwari" />
                    </a>
                </li>
            </ul>
            <div class="post-card-byline-content">
                <span><a href="../../author/Shantnu/index.html">Shantnu Tiwari</a></span>
                <span class="post-card-byline-date"><time datetime="2024-04-10">Apr 10, 2024</time> <span class="bull">&bull;</span> 2 min read</span>
            </div>
        </footer>

    </div>

</article>
                    
<article class="post-card post no-image ">


    <div class="post-card-content">

        <a class="post-card-content-link" href="../so-evidently/index.html">
            <header class="post-card-header">
                <h2 class="post-card-title">So Google&#x27;s Gemini Doesn&#x27;t Like Python Programming and Sanskrit?</h2>
            </header>
            <section class="post-card-excerpt">
                <p>I have been playing around with Googles Gemini Pro.

Recently, I wanted to write a blog on Python&#39;s decorators and wanted to get some ideas for practical projects I could build with them. Tried GPT4 first, it gave me the standard &quot;log analyser&quot; that all blogs</p>
            </section>
        </a>

        <footer class="post-card-meta">
            <ul class="author-list">
                <li class="author-list-item">
                    <a href="../../author/Shantnu/index.html" class="static-avatar">
                        <img class="author-profile-image" src="../../content/images/size/w100/2021/08/shantnu-foto-small-1.jpg" alt="Shantnu Tiwari" />
                    </a>
                </li>
            </ul>
            <div class="post-card-byline-content">
                <span><a href="../../author/Shantnu/index.html">Shantnu Tiwari</a></span>
                <span class="post-card-byline-date"><time datetime="2024-02-25">Feb 25, 2024</time> <span class="bull">&bull;</span> 4 min read</span>
            </div>
        </footer>

    </div>

</article>
                    
<article class="post-card post ">

    <a class="post-card-image-link" href="../linkedin-has-become-a-piece-of-garbage-even-more-than-usual/index.html">
        <img class="post-card-image"
            srcset="../../content/images/size/w300/2024/01/ae223740-840b-4d4a-9467-2522a67dcbbc.png 300w,
                   ../../content/images/size/w600/2024/01/ae223740-840b-4d4a-9467-2522a67dcbbc.pngg 600w,
                  ../../content/images/size/w1000/2024/01/ae223740-840b-4d4a-9467-2522a67dcbbc.pngng 1000w,
                 ../../content/images/size/w2000/2024/01/ae223740-840b-4d4a-9467-2522a67dcbbc.pngpng 2000w"
            sizes="(max-width: 1000px) 400px, 800px"
            src="../../content/images/size/w600/2024/01/ae223740-840b-4d4a-9467-2522a67dcbbc.png"
            alt="LinkedIn Has Become a Pile of Garbage (even more than usual)"
            loading="lazy"
        />
    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="../linkedin-has-become-a-piece-of-garbage-even-more-than-usual/index.html">
            <header class="post-card-header">
                <h2 class="post-card-title">LinkedIn Has Become a Pile of Garbage (even more than usual)</h2>
            </header>
            <section class="post-card-excerpt">
                <p>Online forums, especially Hacker News and Reddit, are very hostile to LinkedIn. Everyone makes fun of the self-promotion and silliness that goes there. There are complaints the site is unusable, which I didn&#39;t agree with until now.

I&#39;ve had an account there for a few years.</p>
            </section>
        </a>

        <footer class="post-card-meta">
            <ul class="author-list">
                <li class="author-list-item">
                    <a href="../../author/Shantnu/index.html" class="static-avatar">
                        <img class="author-profile-image" src="../../content/images/size/w100/2021/08/shantnu-foto-small-1.jpg" alt="Shantnu Tiwari" />
                    </a>
                </li>
            </ul>
            <div class="post-card-byline-content">
                <span><a href="../../author/Shantnu/index.html">Shantnu Tiwari</a></span>
                <span class="post-card-byline-date"><time datetime="2024-01-29">Jan 29, 2024</time> <span class="bull">&bull;</span> 4 min read</span>
            </div>
        </footer>

    </div>

</article>

    </div>
</aside>


    </main>

    <footer class="site-footer outer">
        <div class="inner">
            <section class="copyright"><a href="../../home/index.html">Python for Engineers</a> &copy; 2025</section>
            <nav class="site-footer-nav">
                
            </nav>
            

        </div>
    </footer>

</div>


<script
    src="/assets/js/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
    crossorigin="anonymous">
</script>
<script src="../../assets/built/casper.js"></script>
<script>
$(document).ready(function () {
    // Mobile Menu Trigger
    $('.gh-burger').click(function () {
        $('body').toggleClass('gh-head-open');
    });
    // FitVids - Makes video embeds responsive
    $(".gh-content").fitVids();
});
</script>

<script src="/assets/js/prism.min.js" integrity="sha512-axJX7DJduStuBB8ePC8ryGzacZPr3rdLaIDZitiEgWWk2gsXxEFlm4UW0iNzj2h3wp5mOylgHAzBzM4nRSvTZA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>



<script src="/assets/js/prism-toolbar.min.js" integrity="sha512-YrvgEHAi5/3o2OT+/vh1z19oJXk/Kk0qdVKbjEFl9VRmcLTaWRYzVziZCvoGpJ2TrnV7rB8pnJcz1ioVJjgw2A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

</body>
</html>
