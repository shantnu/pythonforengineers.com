<!DOCTYPE html>
<html lang="en">
<head>

    <title>Adding Enemies to Our Game</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" type="text/css" href="../../assets/built/screen.css" />

    <link rel="canonical" href="index.html">
    <meta name="referrer" content="no-referrer-when-downgrade">


    <meta property="og:site_name" content="Python for Engineers">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Adding Enemies to Our Game">
    <meta property="og:description" content="This is Part 5 of the Godot series. Read Previous Parts here.
[https://new.pythonforengineers.com/godot-games-programming/]

All the code is here [https://github.com/shantnu/godot-beginners], under Part 5

In this post, we will add an enemy to our game. The enemy will walk left and
right, and we">
    <meta property="og:url" content="https://new.pythonforengineers.com/blog/adding-enemies-to-our-game/">
    <meta property="article:published_time" content="2022-01-10T16:14:29.000Z">
    <meta property="article:modified_time" content="2022-01-10T16:14:29.000Z">
    <meta property="article:tag" content="game">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Adding Enemies to Our Game">
    <meta name="twitter:description" content="This is Part 5 of the Godot series. Read Previous Parts here.
[https://new.pythonforengineers.com/godot-games-programming/]

All the code is here [https://github.com/shantnu/godot-beginners], under Part 5

In this post, we will add an enemy to our game. The enemy will walk left and
right, and we">
    <meta name="twitter:url" content="https://new.pythonforengineers.com/blog/adding-enemies-to-our-game/">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Shantnu Tiwari">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="game">

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Python for Engineers",
        "url": "https://new.pythonforengineers.com/",
        "logo": {
            "@type": "ImageObject",
            "url": "https://new.pythonforengineers.com/favicon.ico"
        }
    },
    "author": {
        "@type": "Person",
        "name": "Shantnu Tiwari",
        "image": {
            "@type": "ImageObject",
            "url": "https://new.pythonforengineers.com/content/images/2021/08/shantnu-foto-small-1.jpg"
        },
        "url": "https://new.pythonforengineers.com/author/shantnu/",
        "sameAs": []
    },
    "headline": "Adding Enemies to Our Game",
    "url": "https://new.pythonforengineers.com/blog/adding-enemies-to-our-game/",
    "datePublished": "2022-01-10T16:14:29.000Z",
    "dateModified": "2022-01-10T16:14:29.000Z",
    "keywords": "game",
    "description": "This is Part 5 of the Godot series. Read Previous Parts here.\n[https://new.pythonforengineers.com/godot-games-programming/]\n\nAll the code is here [https://github.com/shantnu/godot-beginners], under Part 5\n\nIn this post, we will add an enemy to our game. The enemy will walk left and\nright, and we will be able to kill it by jumping on it.\n\nCreate a new scene called enemy. We will copy player.tscn, so it will be a\nKinematicBody2D, with children CollisionShape2d and AnimatedSprite.\n\nAdd the enemy wa",
    "mainEntityOfPage": "https://new.pythonforengineers.com/blog/adding-enemies-to-our-game/"
}
    </script>

    <meta name="generator" content="Ghost 5.129">
    <link rel="alternate" type="application/rss+xml" title="Python for Engineers" href="../rss/index.html">


    <link href="https://new.pythonforengineers.com/webmentions/receive/" rel="webmention">
    <script defer src="../../public/cards.min.js%3Fv=ddf1563274"></script>
    <link rel="stylesheet" type="text/css" href="../../public/cards.min.css%3Fv=ddf1563274.css">
    <script defer src="../../public/member-attribution.min.js%3Fv=ddf1563274"></script><style>:root {--ghost-accent-color: #FF1A75;}</style>
    <link rel="stylesheet" href="/assets/css/prism-okaidia.min.css" integrity="sha512-mIs9kKbaw6JZFfSuo+MovjU+Ntggfoj8RwAmJbVXQ5mkAX5LlgETQEweFPI18humSPHymTb5iikEOKWF7I8ncQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="/assets/css/prism-toolbar.min.css" />

</head>
<body class="post-template tag-game">
<div class="viewport">

    <header id="gh-head" class="gh-head ">
        <nav class="gh-head-inner inner gh-container">

            <div class="gh-head-brand">
                <a class="gh-head-logo" href="../../home/index.html">
                        Python for Engineers
                </a>
                <a class="gh-burger" role="button">
                    <div class="gh-burger-box">
                        <div class="gh-burger-inner"></div>
                    </div>
                </a>
            </div>
            <div class="gh-head-menu">
                <ul class="nav">
    <li class="nav-home"><a href="../../home/index.html">Home</a></li>
    <li class="nav-about-contact"><a href="../../about/index.html">About/Contact</a></li>
    <li class="nav-books"><a href="../../books.html">Books</a></li>
    <li class="nav-blog"><a href="../../author/Shantnu/index.html">Blog</a></li>
    <li class="nav-search"><a href="index.html#/search">Search</a></li>
</ul>

            </div>

        </nav>
    </header>

    <main>




<article class="article post tag-game no-image">

    <header class="article-header gh-canvas">

        <section class="article-tag">
            <a href="../../tag/game/index.html">game</a>
        </section>

        <h1 class="article-title">Adding Enemies to Our Game</h1>


        <div class="article-byline">
            <section class="article-byline-content">
                <ul class="author-list">
                    <li class="author-list-item">
                        <a href="../../author/Shantnu/index.html" class="author-avatar">
                            <img class="author-profile-image" src="../../content/images/size/w100/2021/08/shantnu-foto-small-1.jpg" alt="Shantnu Tiwari" />
                        </a>
                    </li>
                </ul>
                <div class="article-byline-meta">
                    <h4 class="author-name"><a href="../../author/Shantnu/index.html">Shantnu Tiwari</a></h4>
                    <div class="byline-meta-content">
                        <time class="byline-meta-date" datetime="2022-01-10">Jan 10, 2022</time>
                        <span class="byline-reading-time"><span class="bull">&bull;</span> 4 min read</span>
                    </div>
                </div>
            </section>
        </div>

    </header>

    <section class="gh-content gh-canvas">
        <p>This is Part 5 of the Godot series. Read <a href="../../godot-games-programming/index.html">Previous Parts here.</a></p><p>All the <a href="https://github.com/shantnu/godot-beginners?ref=new.pythonforengineers.com">code is here</a>, under Part 5</p><p>In this post, we will add an enemy to our game. The enemy will walk left and right, and we will be able to kill it by jumping on it.</p><p>Create a new scene called enemy. We will copy player.tscn, so it will be a KinematicBody2D, with children CollisionShape2d and AnimatedSprite.</p><figure class="kg-card kg-image-card"><img src="../../content/images/2021/12/image-52.png" class="kg-image" alt loading="lazy" width="480" height="322"></figure><p>Add the enemy walking animations :</p><figure class="kg-card kg-image-card"><img src="../../content/images/2021/12/image-53.png" class="kg-image" alt loading="lazy" width="1596" height="1170" srcset="../../content/images/size/w600/2021/12/image-53.png 600w, ../../content/images/size/w1000/2021/12/image-53.png 1000w, ../../content/images/2021/12/image-53.png 1596w" sizes="(min-width: 720px) 720px"></figure><p> And add a CollisionShape2d as a rectangle:</p><figure class="kg-card kg-image-card"><img src="../../content/images/2021/12/image-60.png" class="kg-image" alt loading="lazy" width="524" height="408"></figure><p>It doesn't have to be perfect, as we won't really be using it much.</p><p>Instead, we'll have two new areas/zones– one at the top of the enemy where jumping on will kill the enemy; and another area in the body of the enemy, so the player can die if the enemy touches it.</p><p>To enemy, add 2 new Aread2d:</p><figure class="kg-card kg-image-card"><img src="../../content/images/2021/12/image-61.png" class="kg-image" alt loading="lazy" width="504" height="536"></figure><p>And to each of the above, add CollisionShape2Ds:</p><figure class="kg-card kg-image-card"><img src="../../content/images/2021/12/image-62.png" class="kg-image" alt loading="lazy" width="506" height="602"></figure><p></p><p>Why are we doing it this way rather than using the default CollisionShape2d? Because only the Area2d has a <em>body_entered()</em> function, which we will need later.</p><p>Add a top_hit_area near the head:</p><figure class="kg-card kg-image-card"><img src="../../content/images/2021/12/image-63.png" class="kg-image" alt loading="lazy" width="1568" height="752" srcset="../../content/images/size/w600/2021/12/image-63.png 600w, ../../content/images/size/w1000/2021/12/image-63.png 1000w, ../../content/images/2021/12/image-63.png 1568w" sizes="(min-width: 720px) 720px"></figure><p>And same for the body:</p><figure class="kg-card kg-image-card"><img src="../../content/images/2021/12/image-64.png" class="kg-image" alt loading="lazy" width="1448" height="742" srcset="../../content/images/size/w600/2021/12/image-64.png 600w, ../../content/images/size/w1000/2021/12/image-64.png 1000w, ../../content/images/2021/12/image-64.png 1448w" sizes="(min-width: 720px) 720px"></figure><p>On the level1 file, create a node2d called enemies, and link our enemy.tscn file to it. Check that the size of the enemy is similar to the player, and resize if needed.</p><figure class="kg-card kg-image-card"><img src="../../content/images/2021/12/image-65.png" class="kg-image" alt loading="lazy" width="1112" height="682" srcset="../../content/images/size/w600/2021/12/image-65.png 600w, ../../content/images/size/w1000/2021/12/image-65.png 1000w, ../../content/images/2021/12/image-65.png 1112w" sizes="(min-width: 720px) 720px"></figure><p></p><p>Create a script for enemy, and then click on the body_entered() function for the AREA_TOP region:</p><figure class="kg-card kg-image-card"><img src="../../content/images/2021/12/image-66.png" class="kg-image" alt loading="lazy" width="2000" height="516" srcset="../../content/images/size/w600/2021/12/image-66.png 600w, ../../content/images/size/w1000/2021/12/image-66.png 1000w, ../../content/images/size/w1600/2021/12/image-66.png 1600w, ../../content/images/size/w2400/2021/12/image-66.png 2400w" sizes="(min-width: 720px) 720px"></figure><p>and connect to the script in enemy.gd you created. Do the same for the AREA_BODY below. You will have 2 new functions in enemy.gd</p><pre><code>func _on_AREA_TOP_body_entered(body):
	pass # Replace with function body.


func _on_AREA_BODY_body_entered(body):
	pass # Replace with function body.
</code></pre><p>Let's update the code for top:</p><pre><code>func _on_AREA_TOP_body_entered(body):
	if body.get_name() == "player":
		print("enemy dead!")
		queue_free()</code></pre><p>The code checks if a body enters the top area(which remember, is on top of the enemy), and if the body is the player, it prints "enemy dead" and then the enemy is deleted using the queue_free() function.</p><p>Test the code:</p><figure class="kg-card kg-image-card"><img src="../../content/images/2021/12/p2.gif" class="kg-image" alt loading="lazy" width="480" height="226"></figure><p>Jumping on the enemy kills it.</p><p>Now let's add code so the player dies when it hits the enemy.</p><p>For this case, we want the player to handle the death--not the enemy. So we will send a signal to the player object when the player is hit by the enemy. </p><p><strong>Signals in Godot</strong></p><p>Signals allow us to keep different parts of the code independent. Rather than sharing variables and having messy code, scenes can send each other signals when something changes. Like, the player being hit.</p><p>Another advantage of this is: Now the enemy code doesn't have to stop to process the hit. It sends the signal and moves on, it's the player scene's job to handle the signal. Both scenes can work independently.</p><p>Add this to the top of the code:</p><pre><code>signal player_hit</code></pre><p>Update the code:</p><pre><code>func _on_AREA_BODY_body_entered(body):
	if body.get_name() == "player":
		emit_signal("player_hit")</code></pre><p>So when the body area of the enemy is entered, the <em>player_hit</em> signal is emitted.</p><p>Now we need to connect this signal to the player script.</p><p>Go to the level1 screen, select the enemy object, and you should see the new signal:</p><figure class="kg-card kg-image-card"><img src="../../content/images/2021/12/image-67.png" class="kg-image" alt loading="lazy" width="2000" height="639" srcset="../../content/images/size/w600/2021/12/image-67.png 600w, ../../content/images/size/w1000/2021/12/image-67.png 1000w, ../../content/images/size/w1600/2021/12/image-67.png 1600w, ../../content/images/size/w2400/2021/12/image-67.png 2400w" sizes="(min-width: 720px) 720px"></figure><p>Double click on it and select the player script, and add this code:</p><pre><code>func _on_enemy_player_hit():
	print("You were hit by the enemy!")
	get_tree().change_scene("res://level1.tscn")</code></pre><p>As before, we reload the screen when the player dies. Let's try it out.</p><figure class="kg-card kg-image-card"><img src="../../content/images/2021/12/p3.gif" class="kg-image" alt loading="lazy" width="480" height="226"></figure><p></p><p>So the player dies when it touches the enemy, and you can still kill it by jumping on it.</p><p>We need one more thing: The enemy just stands there. It would be better if it moved a little.</p><p><strong>Enemy Movement</strong></p><p>We will keep the movement simple– the enemy will simply move left and right.</p><p>Add this to the enemy.gd script:</p><pre><code>var velocity = Vector2(0,0)
const GRAVITY = 20
var SPEED = 30
var counter = 0</code></pre><p>and update the physics process function:</p><pre><code>func _physics_process(_delta):
	counter += 1
	velocity.x = SPEED
	velocity.y += GRAVITY
	velocity = move_and_slide(velocity, Vector2.UP)
	$AnimatedSprite.play("walk")
	if counter &gt;= 100:
		$AnimatedSprite.flip_h = !$AnimatedSprite.flip_h
		SPEED *= -1
		counter = 0</code></pre><p>The code should be simple– as its roughly the same as the player code. Every 100 frames, we change the direction of our enemy (by multiplying SPEED by -1).</p><p>One last thing to do is to set the masks:</p><figure class="kg-card kg-image-card"><img src="../../content/images/2021/12/image-68.png" class="kg-image" alt loading="lazy" width="2000" height="707" srcset="../../content/images/size/w600/2021/12/image-68.png 600w, ../../content/images/size/w1000/2021/12/image-68.png 1000w, ../../content/images/size/w1600/2021/12/image-68.png 1600w, ../../content/images/size/w2400/2021/12/image-68.png 2400w" sizes="(min-width: 720px) 720px"></figure><p>The enemy is on layer 4 (enemy), and the masks are set to 1(player) and 3 (environment). We need Mask 3, otherwise the enemy falls thru the floor.</p><p>Give it a try</p><figure class="kg-card kg-image-card"><img src="../../content/images/2021/12/p4.gif" class="kg-image" alt loading="lazy" width="480" height="226"></figure><p></p><p>I will now redesign the level a little and add a few more enemies.</p><figure class="kg-card kg-image-card"><img src="../../content/images/2021/12/Screenshot-2021-12-30-at-14.07.53.png" class="kg-image" alt loading="lazy" width="2000" height="677" srcset="../../content/images/size/w600/2021/12/Screenshot-2021-12-30-at-14.07.53.png 600w, ../../content/images/size/w1000/2021/12/Screenshot-2021-12-30-at-14.07.53.png 1000w, ../../content/images/size/w1600/2021/12/Screenshot-2021-12-30-at-14.07.53.png 1600w, ../../content/images/2021/12/Screenshot-2021-12-30-at-14.07.53.png 2146w" sizes="(min-width: 720px) 720px"></figure><p>And there we go. Our simple game is coming around.</p><p>Last thing to do is add a UI, for when the player wins / dies. We'll do that next.</p>
    </section>


</article>



<aside class="read-more-wrap">
    <div class="read-more inner">



<article class="post-card post no-image ">


    <div class="post-card-content">

        <a class="post-card-content-link" href="../awesome-python-library-tenacity/index.html">
            <header class="post-card-header">
                <h2 class="post-card-title">Awesome Python Library: Tenacity</h2>
            </header>
            <section class="post-card-excerpt">
                <p>Link: https://tenacity.readthedocs.io/en/latest/

When writing code or tests in Python, one issue I had was when the code would fail due to random things like network issues or external peripherals not responding in time. Just rerunning the tests would make them pass. The unreliability wasn&#39;</p>
            </section>
        </a>

        <footer class="post-card-meta">
            <ul class="author-list">
                <li class="author-list-item">
                    <a href="../../author/Shantnu/index.html" class="static-avatar">
                        <img class="author-profile-image" src="../../content/images/size/w100/2021/08/shantnu-foto-small-1.jpg" alt="Shantnu Tiwari" />
                    </a>
                </li>
            </ul>
            <div class="post-card-byline-content">
                <span><a href="../../author/Shantnu/index.html">Shantnu Tiwari</a></span>
                <span class="post-card-byline-date"><time datetime="2024-04-10">Apr 10, 2024</time> <span class="bull">&bull;</span> 2 min read</span>
            </div>
        </footer>

    </div>

</article>

<article class="post-card post no-image ">


    <div class="post-card-content">

        <a class="post-card-content-link" href="../so-evidently/index.html">
            <header class="post-card-header">
                <h2 class="post-card-title">So Google&#x27;s Gemini Doesn&#x27;t Like Python Programming and Sanskrit?</h2>
            </header>
            <section class="post-card-excerpt">
                <p>I have been playing around with Googles Gemini Pro.

Recently, I wanted to write a blog on Python&#39;s decorators and wanted to get some ideas for practical projects I could build with them. Tried GPT4 first, it gave me the standard &quot;log analyser&quot; that all blogs</p>
            </section>
        </a>

        <footer class="post-card-meta">
            <ul class="author-list">
                <li class="author-list-item">
                    <a href="../../author/Shantnu/index.html" class="static-avatar">
                        <img class="author-profile-image" src="../../content/images/size/w100/2021/08/shantnu-foto-small-1.jpg" alt="Shantnu Tiwari" />
                    </a>
                </li>
            </ul>
            <div class="post-card-byline-content">
                <span><a href="../../author/Shantnu/index.html">Shantnu Tiwari</a></span>
                <span class="post-card-byline-date"><time datetime="2024-02-25">Feb 25, 2024</time> <span class="bull">&bull;</span> 4 min read</span>
            </div>
        </footer>

    </div>

</article>

<article class="post-card post ">

    <a class="post-card-image-link" href="../linkedin-has-become-a-piece-of-garbage-even-more-than-usual/index.html">
        <img class="post-card-image"
            srcset="../../content/images/size/w300/2024/01/ae223740-840b-4d4a-9467-2522a67dcbbc.png 300w,
                   ../../content/images/size/w600/2024/01/ae223740-840b-4d4a-9467-2522a67dcbbc.pngg 600w,
                  ../../content/images/size/w1000/2024/01/ae223740-840b-4d4a-9467-2522a67dcbbc.pngng 1000w,
                 ../../content/images/size/w2000/2024/01/ae223740-840b-4d4a-9467-2522a67dcbbc.pngpng 2000w"
            sizes="(max-width: 1000px) 400px, 800px"
            src="../../content/images/size/w600/2024/01/ae223740-840b-4d4a-9467-2522a67dcbbc.png"
            alt="LinkedIn Has Become a Pile of Garbage (even more than usual)"
            loading="lazy"
        />
    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="../linkedin-has-become-a-piece-of-garbage-even-more-than-usual/index.html">
            <header class="post-card-header">
                <h2 class="post-card-title">LinkedIn Has Become a Pile of Garbage (even more than usual)</h2>
            </header>
            <section class="post-card-excerpt">
                <p>Online forums, especially Hacker News and Reddit, are very hostile to LinkedIn. Everyone makes fun of the self-promotion and silliness that goes there. There are complaints the site is unusable, which I didn&#39;t agree with until now.

I&#39;ve had an account there for a few years.</p>
            </section>
        </a>

        <footer class="post-card-meta">
            <ul class="author-list">
                <li class="author-list-item">
                    <a href="../../author/Shantnu/index.html" class="static-avatar">
                        <img class="author-profile-image" src="../../content/images/size/w100/2021/08/shantnu-foto-small-1.jpg" alt="Shantnu Tiwari" />
                    </a>
                </li>
            </ul>
            <div class="post-card-byline-content">
                <span><a href="../../author/Shantnu/index.html">Shantnu Tiwari</a></span>
                <span class="post-card-byline-date"><time datetime="2024-01-29">Jan 29, 2024</time> <span class="bull">&bull;</span> 4 min read</span>
            </div>
        </footer>

    </div>

</article>

    </div>
</aside>


    </main>

    <footer class="site-footer outer">
        <div class="inner">
            <section class="copyright"><a href="../../home/index.html">Python for Engineers</a> &copy; 2025</section>
            <nav class="site-footer-nav">

            </nav>


        </div>
    </footer>

</div>


<script
    src="/assets/js/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
    crossorigin="anonymous">
</script>
<script src="../../assets/built/casper.js"></script>
<script>
$(document).ready(function () {
    // Mobile Menu Trigger
    $('.gh-burger').click(function () {
        $('body').toggleClass('gh-head-open');
    });
    // FitVids - Makes video embeds responsive
    $(".gh-content").fitVids();
});
</script>

<script src="/assets/js/prism.min.js" integrity="sha512-axJX7DJduStuBB8ePC8ryGzacZPr3rdLaIDZitiEgWWk2gsXxEFlm4UW0iNzj2h3wp5mOylgHAzBzM4nRSvTZA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>



<script src="/assets/js/prism-toolbar.min.js" integrity="sha512-YrvgEHAi5/3o2OT+/vh1z19oJXk/Kk0qdVKbjEFl9VRmcLTaWRYzVziZCvoGpJ2TrnV7rB8pnJcz1ioVJjgw2A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

</body>
</html>
